(this["webpackJsonppoddy-web"]=this["webpackJsonppoddy-web"]||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},118:function(e,t){},120:function(e,t){},146:function(e,t){},148:function(e,t){},163:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(81),o=a.n(r),u=(a(91),a(13)),l=a.n(u),s=a(20),i=a(4),m=(a(93),a(82)),f=a.n(m),b=function(e){return f.a.get((t="search","".concat("https://cors-anywhere.herokuapp.com/").concat("https://itunes.apple.com/search","/").concat(t)),{params:{entity:"podcast",term:e},headers:{"access-control-allow-origin":"*"}});var t},d=(a(56),a(110),a(111),function(e){var t=e.children;return c.a.createElement("div",{className:"modal is-active"},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},t))}),p=function(e){var t=e.title,a=e.onCancel,n=e.children;return c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},t),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:a}),n)},v=function(e){var t=e.children;return c.a.createElement("section",{className:"modal-card-body"},t)},E=function(e){var t=e.onCancel;return c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button",onClick:t},"Close"))},h=a(83),O=function(e){return"".concat("https://cors-anywhere.herokuapp.com/").concat(e)},j=new(a.n(h).a)({customFields:{}}),N=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.parseURL(O(t));case 3:return a=e.sent,n=[],a.items.map((function(e){e.enclosure&&n.push({title:e.title,url:e.enclosure.url})})),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=(a(163),a(84)),w=function(e){var t=e.title,a=e.url,n=e.onPlay,r=e.currentTrack;return c.a.createElement("div",{className:"track"},c.a.createElement("h1",null,t),c.a.createElement("button",{className:"button play is-fullwidth",onClick:n},c.a.createElement(g.a,{icon:a===r?"pause":"play"})))},k=(a(166),a(169)),y=a(170),S=(a(167),function(e){var t=e.onNext,a=e.onPrevious,n=e.pageNumbers,r=e.activePage,o=function(e){return e>=n||e<0};return c.a.createElement("div",{className:"pagination"},c.a.createElement("ul",{id:"pageNumberList"},c.a.createElement("button",{onClick:a,className:"button previous",disabled:o(r-1)},"Prevous"),c.a.createElement("button",{className:"button"},r+1),c.a.createElement("button",{onClick:t,className:"button next",disabled:o(r+1)},"Next")))}),C=a(45),x=a.n(C),P=function(e){var t=e.title,a=e.onClose,r=e.image,o=e.feedUrl,u=Object(n.useState)([]),m=Object(i.a)(u,2),f=m[0],b=m[1],h=Object(n.useState)([]),O=Object(i.a)(h,2),j=O[0],g=O[1],C=Object(n.useState)(0),x=Object(i.a)(C,2),P=x[0],U=x[1],D=Object(n.useState)(""),A=Object(i.a)(D,2),F=A[0],L=A[1],T=Object(n.useState)(null),W=Object(i.a)(T,2),B=W[0],H=W[1],I=Object(n.useState)(!1),J=Object(i.a)(I,2),R=J[0],G=J[1],K=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.t0=b,e.t1=k.a,e.next=5,N(t);case 5:e.t2=e.sent,e.t3=(0,e.t1)(10,e.t2),(0,e.t0)(e.t3),G(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){K(o)}),[]),Object(n.useEffect)((function(){g(f[P])}),[P,f]),Object(n.useEffect)((function(){q()}),[B]);var $=function(){B&&B.pause()},q=function(){B&&B.play()},z=function(){$(),a()};return c.a.createElement(d,null,c.a.createElement(p,{title:t,onCancel:z}),R&&c.a.createElement("button",{className:"button is-loading"},"LOADING"),c.a.createElement(v,null,c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:r,alt:""})),0===Object(y.a)(f)&&!R&&c.a.createElement("div",{className:"no-tracks"},"NO TRACKS FOUND"),j&&j.map((function(e){return c.a.createElement(w,{title:e.title,url:e.url,currentTrack:F,onPlay:function(){return function(e){$(),e.url===F?(L(null),$()):(L(e.url),H(new Audio(e.url)))}(e)}})})),c.a.createElement(S,{activePage:P,pageNumbers:Object(y.a)(f),onNext:function(){U(P+1)},onPrevious:function(){U(P-1)}})),c.a.createElement(E,{onCancel:z}))},U=function(e){var t=e.podcast.feedUrl,a=e.title,r=e.image,o=e.imageHD,u=Object(n.useState)(!1),l=Object(i.a)(u,2),s=l[0],m=l[1];return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(P,{onClose:function(){m(!1)},title:a,image:o||r,feedUrl:t}),c.a.createElement("div",{onClick:function(){m(!0)},className:"podcast column is-3"},c.a.createElement("h1",null,a),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:r,alt:a}))))},D=a(85);a(22).b.add(D.a);var A=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),m=u[0],f=u[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),v=p[0],E=p[1],h=Object(n.useState)("soccer"),O=Object(i.a)(h,2),j=O[0],N=O[1],g=Object(n.useState)(0),w=Object(i.a)(g,2),C=w[0],P=w[1],D=Object(n.useState)(!1),A=Object(i.a)(D,2),F=A[0],L=A[1];Object(n.useEffect)((function(){T()}),[j]),Object(n.useEffect)((function(){W()}),[C,a]);var T=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!0),b(j).then((function(e){r(Object(k.a)(10,e.data.results)),L(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){f(a[C])};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"Poddy Web")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(v)},className:"search-form"},c.a.createElement("input",{placeholder:"Enter keyword",type:"text",className:"input search-bar",value:v,onChange:function(e){E(e.target.value)}}),c.a.createElement("button",{type:"submit",className:x()(["button search-button",{"is-loading":F}])},"Search")),c.a.createElement(S,{activePage:C,onNext:function(){return P(C+1)},onPrevious:function(){return P(C-1)},pageNumbers:Object(y.a)(a)}),c.a.createElement("div",{className:"podcasts"},m&&m.map((function(e){return c.a.createElement(U,{podcast:e,title:e.collectionName,image:e.artworkUrl100,imageHD:e.artworkUrl600})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,a){e.exports=a(168)},91:function(e,t,a){},93:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.41c451f9.chunk.js.map