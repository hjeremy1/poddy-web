(this["webpackJsonppoddy-web"]=this["webpackJsonppoddy-web"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},117:function(e,t){},119:function(e,t){},145:function(e,t){},147:function(e,t){},162:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(80),o=a.n(r),l=(a(90),a(13)),u=a.n(l),s=a(20),i=a(4),m=(a(92),a(81)),f=a.n(m),d=function(e){return f.a.get((t="search","".concat("https://itunes.apple.com/search","/").concat(t)),{params:{entity:"podcast",term:e}});var t},b=(a(55),a(109),a(110),function(e){var t=e.children;return c.a.createElement("div",{className:"modal is-active"},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},t))}),p=function(e){var t=e.title,a=e.onCancel;return c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},t),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:a}))},E=function(e){var t=e.children;return c.a.createElement("section",{className:"modal-card-body"},t)},v=function(e){var t=e.onCancel;return c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button",onClick:t},"Close"))},h=a(82),j=function(e){return"".concat("https://cors-anywhere.herokuapp.com/").concat(e)},O=new(a.n(h).a)({customFields:{}}),g=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,O.parseURL(j(t));case 3:return a=e.sent,n=[],console.log(a.items),a.items.map((function(e){e.enclosure&&n.push({title:e.title,url:e.enclosure.url})})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(a(162),a(83)),w=function(e){var t=e.title,a=e.url,n=e.onPlay,r=e.currentTrack;return c.a.createElement("div",{className:"track"},c.a.createElement("h1",null,t),c.a.createElement("button",{className:"button play is-fullwidth",onClick:n},c.a.createElement(N.a,{icon:a===r?"pause":"play"})))},k=(a(165),a(168)),y=a(169),C=(a(166),function(e){var t=e.onNext,a=e.onPrevious,n=e.pageNumbers,r=e.activePage,o=function(e){return e>=n||e<0};return c.a.createElement("div",{className:"pagination"},c.a.createElement("ul",{id:"pageNumberList"},c.a.createElement("button",{onClick:a,className:"button previous",disabled:o(r-1)},"Prevous"),c.a.createElement("button",{className:"button"},r+1),c.a.createElement("button",{onClick:t,className:"button next",disabled:o(r+1)},"Next")))}),S=function(e){var t=e.title,a=e.onClose,r=e.image,o=e.feedUrl,l=Object(n.useState)([]),m=Object(i.a)(l,2),f=m[0],d=m[1],h=Object(n.useState)([]),j=Object(i.a)(h,2),O=j[0],N=j[1],S=Object(n.useState)(0),x=Object(i.a)(S,2),P=x[0],U=x[1],D=Object(n.useState)(""),W=Object(i.a)(D,2),A=W[0],B=W[1],F=Object(n.useState)(null),H=Object(i.a)(F,2),J=H[0],L=H[1],T=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.t1=k.a,e.next=4,g(t);case 4:e.t2=e.sent,e.t3=(0,e.t1)(10,e.t2),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){T(o)}),[]),Object(n.useEffect)((function(){N(f[P])}),[P,f]),Object(n.useEffect)((function(){I()}),[J]);var G=function(){J&&J.pause()},I=function(){J&&J.play()},R=function(){G(),a()};return c.a.createElement(b,null,c.a.createElement(p,{title:t,onCancel:R}),c.a.createElement(E,null,c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:r,alt:""})),O&&O.map((function(e){return c.a.createElement(w,{title:e.title,url:e.url,currentTrack:A,onPlay:function(){return function(e){G(),e.url===A?(B(null),G()):(B(e.url),L(new Audio(e.url)))}(e)}})})),c.a.createElement(C,{activePage:P,pageNumbers:Object(y.a)(f),onNext:function(){U(P+1)},onPrevious:function(){U(P-1)}})),c.a.createElement(v,{onCancel:R}))},x=function(e){var t=e.podcast.feedUrl,a=e.title,r=e.image,o=e.imageHD,l=Object(n.useState)(!1),u=Object(i.a)(l,2),s=u[0],m=u[1];return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(S,{onClose:function(){m(!1)},title:a,image:o||r,feedUrl:t}),c.a.createElement("div",{onClick:function(){m(!0)},className:"podcast column is-3"},c.a.createElement("h1",null,a),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:r,alt:a}))))},P=a(84);a(22).b.add(P.a);var U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=(t[0],t[1],Object(n.useState)([])),r=Object(i.a)(a,2),o=r[0],l=r[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),b=f[0],p=f[1],E=Object(n.useState)(""),v=Object(i.a)(E,2),h=v[0],j=v[1],O=Object(n.useState)("soccer"),g=Object(i.a)(O,2),N=g[0],w=g[1],S=Object(n.useState)(0),P=Object(i.a)(S,2),U=P[0],D=P[1];Object(n.useEffect)((function(){W()}),[N]),Object(n.useEffect)((function(){A()}),[U,o]);var W=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Getting podcasts"),d(N).then((function(e){console.log(e.data.results),l(Object(k.a)(10,e.data.results))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){p(o[U])};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"Poddy Web")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w(h)},className:"search-form"},c.a.createElement("input",{placeholder:"Enter keyword",type:"text",className:"search-bar",value:h,onChange:function(e){j(e.target.value)}}),c.a.createElement("button",{type:"submit",className:"search-button"},"Search")),c.a.createElement(C,{activePage:U,onNext:function(){return D(U+1)},onPrevious:function(){return D(U-1)},pageNumbers:Object(y.a)(o)}),c.a.createElement("div",{className:"podcasts"},b&&b.map((function(e){return c.a.createElement(x,{podcast:e,title:e.collectionName,image:e.artworkUrl100,imageHD:e.artworkUrl600})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(167)},90:function(e,t,a){},92:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.1ba5f988.chunk.js.map